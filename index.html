<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambient Moodboard</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <main id="main-content" class="card">
        <button id="vibeBtn" class="primary-btn" aria-label="Generate new vibe">VIBE</button>
        <div class="controls" role="toolbar" aria-label="Moodboard controls">
            <button id="soundToggle" aria-label="Toggle sound on/off" aria-pressed="false">Sound Off</button>
            <label for="volumeSlider">Volume</label>
            <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="0.5" aria-label="Volume control">
            <label for="chimeToggle">Chime</label>
            <input type="checkbox" id="chimeToggle" aria-label="Enable chime on vibe" checked>
            <label for="autoVibe">Auto-Vibe</label>
            <input type="checkbox" id="autoVibe" aria-label="Enable auto-vibe cycling">
            <label for="autoVibeInterval">Interval (seconds)</label>
            <input type="number" id="autoVibeInterval" min="1" value="10" aria-label="Auto-vibe interval in seconds">
            <label for="focusMode">Focus Mode</label>
            <input type="checkbox" id="focusMode" aria-label="Enable focus mode to hide UI chrome">
            <label for="particlesToggle">Particles</label>
            <input type="checkbox" id="particlesToggle" aria-label="Enable ambient particles" checked>
            <label for="ambientLightingToggle">Ambient Lighting</label>
            <input type="checkbox" id="ambientLightingToggle" aria-label="Enable dynamic ambient lighting" checked>
            <label for="motionTrailsToggle">Motion Trails</label>
            <input type="checkbox" id="motionTrailsToggle" aria-label="Enable soft motion trails on hover" checked>
            <label for="glassDistortionToggle">Glass Distortion</label>
            <input type="checkbox" id="glassDistortionToggle" aria-label="Enable glass distortion effect" checked>
            <label for="customCursorToggle">Custom Cursor</label>
            <input type="checkbox" id="customCursorToggle" aria-label="Enable custom glowing cursor" checked>
            <label for="parallaxToggle">Camera Parallax</label>
            <input type="checkbox" id="parallaxToggle" aria-label="Enable subtle camera parallax" checked>
            <label for="themeSelect">Theme</label>
            <select id="themeSelect" aria-label="Select theme">
                <option value="default">Default</option>
                <option value="cozy-winter">Cozy Winter</option>
                <option value="golden-hour">Golden Hour</option>
                <option value="rainy-loft">Rainy Loft</option>
                <option value="starlit-night">Starlit Night</option>
            </select>
            <label for="autoThemeToggle">Auto-Cycle</label>
            <input type="checkbox" id="autoThemeToggle" aria-label="Enable auto theme cycling">
            <button id="viewSavedBtn" aria-label="View saved moods gallery">View Saved</button>
            <button id="customQuotesBtn" aria-label="Manage custom quotes">Quotes</button>
            <button id="themeBuilderBtn" aria-label="Open theme builder">Theme Builder</button>
            <button id="adaptiveThemeToggle" aria-label="Toggle adaptive theme" aria-pressed="false">Adaptive Off</button>
        </div>
        <div id="moodboard" aria-label="Current moodboard item">
            <img id="moodImage" src="" alt="Ambient mood image for current vibe" style="display:none;">
            <blockquote id="moodQuote" cite="" aria-live="polite"></blockquote>
            <div class="moodboard-controls">
                <button id="saveMoodBtn" aria-label="Save current mood to bookmarks">Save Mood</button>
                <button id="audioControl" aria-label="Play or pause audio" disabled>Play</button>
                <button id="nextSongBtn" aria-label="Play next ambient song" disabled>Next Song</button>
            </div>
        </div>
        <div id="savedGallery" class="saved-gallery" style="display:none;" aria-label="Saved moods gallery">
            <h3>Saved Moods</h3>
            <div id="savedMoodsList" class="saved-moods-list"></div>
            <button id="closeGalleryBtn" aria-label="Close saved moods gallery">Close</button>
        </div>

        <!-- Custom Quotes Modal -->
        <div id="customQuotesModal" class="modal" style="display:none;" role="dialog" aria-labelledby="customQuotesTitle" aria-modal="true">
            <div class="modal-content">
                <h3 id="customQuotesTitle">Custom Quotes</h3>
                <div class="quote-input-section">
                    <input type="text" id="quoteText" placeholder="Enter quote text" maxlength="300" aria-label="Quote text">
                    <input type="text" id="quoteAuthor" placeholder="Author (optional)" maxlength="100" aria-label="Quote author">
                    <button id="addQuoteBtn" aria-label="Add custom quote">Add Quote</button>
                </div>
                <div class="file-input-section">
                    <input type="file" id="quotesFileInput" accept=".json,.txt" aria-label="Upload quotes file">
                    <button id="importQuotesBtn" aria-label="Import quotes from file">Import</button>
                    <button id="exportQuotesBtn" aria-label="Export custom quotes">Export</button>
                </div>
                <div id="quotesList" class="quotes-list" role="list" aria-label="Custom quotes list"></div>
                <button id="closeQuotesModalBtn" aria-label="Close custom quotes modal">Close</button>
            </div>
        </div>

        <!-- Theme Builder Modal -->
        <div id="themeBuilderModal" class="modal" style="display:none;" role="dialog" aria-labelledby="themeBuilderTitle" aria-modal="true">
            <div class="modal-content">
                <h3 id="themeBuilderTitle">Theme Builder</h3>
                <div class="theme-builder-controls">
                    <div class="color-picker">
                        <label for="bgColor1">Background Color 1</label>
                        <input type="color" id="bgColor1" value="#a8d5e2" aria-label="First background gradient color">
                        <label for="bgColor2">Background Color 2</label>
                        <input type="color" id="bgColor2" value="#f7c6c7" aria-label="Second background gradient color">
                        <label for="accentColor">Accent Color</label>
                        <input type="color" id="accentColor" value="#b8e6b8" aria-label="Accent glow color">
                    </div>
                    <div class="font-picker">
                        <label for="fontSelect">Font Family</label>
                        <select id="fontSelect" aria-label="Select font family">
                            <option value="system-ui, sans-serif">System UI</option>
                            <option value="Georgia, serif">Georgia</option>
                            <option value="'Times New Roman', serif">Times New Roman</option>
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="'Courier New', monospace">Courier New</option>
                        </select>
                    </div>
                    <div class="effect-controls">
                        <label for="blurSlider">Blur Effect</label>
                        <input type="range" id="blurSlider" min="0" max="20" value="10" aria-label="Background blur effect">
                        <label for="contrastSlider">Contrast</label>
                        <input type="range" id="contrastSlider" min="0.5" max="2" step="0.1" value="1" aria-label="Image contrast">
                    </div>
                </div>
                <div class="theme-preview">
                    <div class="preview-card">
                        <button class="preview-vibe-btn">VIBE</button>
                        <blockquote class="preview-quote">"This is a preview of your custom theme"</blockquote>
                    </div>
                </div>
                <div class="saved-themes-list">
                    <h4>Saved Themes</h4>
                    <div id="customThemesList" role="list" aria-label="Saved custom themes"></div>
                </div>
                <div class="theme-actions">
                    <button id="saveCustomThemeBtn" aria-label="Save current theme">Save Theme</button>
                    <button id="applyCustomThemeBtn" aria-label="Apply current theme">Apply</button>
                    <button id="closeThemeBuilderBtn" aria-label="Close theme builder">Close</button>
                </div>
            </div>
        </div>

        <!-- Daily Mood Journal -->
        <div id="moodJournal" class="mood-journal" aria-label="Daily mood journal">
            <div class="journal-header">
                <h3>Daily Journal</h3>
                <input type="date" id="journalDate" aria-label="Select journal date">
                <span id="journalIndicator" class="journal-indicator" aria-label="Journal entry indicator"></span>
            </div>
            <textarea id="journalEntry" placeholder="How are you feeling today?" maxlength="500" rows="4" aria-label="Journal entry text"></textarea>
            <div class="journal-actions">
                <button id="saveJournalBtn" aria-label="Save journal entry">Save Entry</button>
                <button id="prevDayBtn" aria-label="Previous day">&larr; Prev</button>
                <button id="nextDayBtn" aria-label="Next day">Next &rarr;</button>
                <button id="exportJournalBtn" aria-label="Export journal">Export Journal</button>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container" role="status" aria-live="polite" aria-label="Notifications"></div>
    </main>
    <div id="themeCaption" class="theme-caption" style="display:none;"></div>
    <canvas id="particleCanvas" class="particle-canvas"></canvas>
    <div id="audioOverlay" class="audio-overlay">Click to enable sound</div>

    <!-- SVG Filters for Visual Effects -->
    <svg style="position: absolute; width: 0; height: 0;" aria-hidden="true">
        <defs>
            <filter id="glass-distortion" x="0%" y="0%" width="100%" height="100%">
                <feTurbulence baseFrequency="0.05" numOctaves="3" result="noise" />
                <feDisplacementMap in="SourceGraphic" in2="noise" scale="0" />
            </filter>
        </defs>
    </svg>

    <script type="module" src="app.js"></script>
</body>
</html>
